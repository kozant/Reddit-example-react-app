(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],Array(28).concat([function(e,t,a){e.exports=a(60)},,,,,,,,,,function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),l=a(5),i=a(6),s=a(8),u=a(7),m=a(9),d=a(13),p=a(11),f=(a(38),r.a.createContext()),h=f.Provider,g=f.Consumer,v=function(e){return function(t){return r.a.createElement(g,null,(function(a){return r.a.createElement(e,Object.assign({},t,{authInfo:a}))}))}},E=a(3),b=v((function(e){var t=e.authInfo,a=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{to:"/login",className:"nav-link"},"Sign in")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{to:"/register",className:"nav-link"},"Sign up"))),n=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{to:"/editor",className:"nav-link"},r.a.createElement(d.a,{icon:p.c})," New Article")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{to:"/settings",className:"nav-link"},r.a.createElement(d.a,{icon:p.a})," Settings")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{to:"/profile/".concat(t.username),className:"nav-link"},t.username))),c=t.token?n:a;return r.a.createElement("nav",{className:"navbar navbar-light app-header"},r.a.createElement("div",{className:"container"},r.a.createElement(E.b,{to:"/",className:"navbar-brand"},"reddit"),r.a.createElement("ul",{className:"nav navbar-nav pull-xs-right"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{to:"/",className:"nav-link"},"Home")),c)))})),y=(a(41),function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"container"},r.a.createElement(E.b,{className:"logo-font",to:"/"},"reddit"),r.a.createElement("span",{className:"attribution"},"\xa9 2020. An interactive learning project from",r.a.createElement("a",{href:"https://thinkster.io"}," Thinkster"),". Code licensed under MIT.")))}),k=a(16),N=a(4),w=a(1),C=a.n(w),x="https://conduit.productionready.io/api",S=function(e,t){var a,n;return C.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a={},t&&(a.authorization="Token ".concat(t)),r.next=4,C.a.awrap(fetch("".concat(x).concat(e),{method:"GET",headers:a}));case 4:if((n=r.sent).ok){r.next=7;break}throw new Error("Could not fetch ".concat(e,", received ").concat(n.status));case 7:return r.next=9,C.a.awrap(n.json());case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}}))},j=function(e,t,a){var n,r,c;return C.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n={Accept:"application/json","Content-Type":"application/json"},t&&(n.authorization="Token ".concat(t)),o.next=4,C.a.awrap(fetch("".concat(x).concat(e),{method:"POST",headers:n,body:JSON.stringify(a)}));case 4:return r=o.sent,o.next=7,C.a.awrap(r.json());case 7:if(o.t0=o.sent,o.t1=r.status,c={data:o.t0,status:o.t1},r.ok){o.next=12;break}throw c;case 12:return o.abrupt("return",c);case 13:case"end":return o.stop()}}))},O=function(e,t,a){var n,r;return C.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.awrap(fetch("".concat(x).concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Token ".concat(t)},body:JSON.stringify(a)}));case 2:return n=c.sent,c.next=5,C.a.awrap(n.json());case 5:if(c.t0=c.sent,c.t1=n.status,r={data:c.t0,status:c.t1},n.ok){c.next=10;break}throw r;case 10:return c.abrupt("return",r);case 11:case"end":return c.stop()}}))},F=function(e,t){var a;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.a.awrap(fetch("".concat(x).concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Token ".concat(t)}}));case 2:if((a=n.sent).ok){n.next=5;break}throw new Error("Could not fetch ".concat(e,", received ").concat(a.status));case 5:return n.next=7,C.a.awrap(a.json());case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}))},A=function(e){return C.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.awrap(j("/users",null,e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},P=function(e){return C.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.awrap(j("/users/login",null,e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},D=(a(43),function(e){var t,a=e.status,n=e.data;if(422===a)for(var c in n){var o=function(e){t=n[c][e].map((function(t){return r.a.createElement("li",{key:t},e+" "+t)}))};for(var l in n[c])o(l)}return r.a.createElement("ul",{className:"error-messages"},t)}),M=(a(44),v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={email:"",password:"",authStatus:null,authData:{}},a.onChangeField=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.sendData=function(){var e={email:a.state.email,password:a.state.password};P({user:e}).then((function(e){a.props.authInfo.onSetAuthInfo(e.data.user),a._isMounted&&a.setState({authStatus:e.status,authData:e.data})})).catch((function(e){a._isMounted&&a.setState({authStatus:e.status,authData:e.data})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.authInfo.token,t=this.state,a=t.authData,n=t.authStatus;return e?r.a.createElement(N.a,{to:"/"}):r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Sign in"),r.a.createElement("p",{className:"text-xs-center"},r.a.createElement(E.b,{to:"/register"},"Need an account?")),r.a.createElement("div",null,r.a.createElement(D,{data:a,status:n})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"email",placeholder:"Email",type:"text",onChange:this.onChangeField})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"password",placeholder:"Password",type:"password",onChange:this.onChangeField})),r.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",onClick:this.sendData},"Sign in")))))))}}]),t}(n.Component))),I=(a(45),v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={email:"",password:"",username:"",authStatus:null,authData:{}},a.onChangeField=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.sendData=function(){var e={email:a.state.email,password:a.state.password,username:a.state.username};A({user:e}).then((function(e){a.props.authInfo.onSetAuthInfo(e.data.user),a._isMounted&&a.setState({authData:e.data,authStatus:e.status})})).catch((function(e){a._isMounted&&a.setState({authData:e.data,authStatus:e.status})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.authInfo.token,t=this.state,a=t.authData,n=t.authStatus;return e?r.a.createElement(N.a,{to:"/"}):r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Sign up"),r.a.createElement("p",{className:"text-xs-center"},r.a.createElement(E.b,{to:"/login"},"Have an account?")),r.a.createElement("div",null,r.a.createElement(D,{data:a,status:n})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"username",placeholder:"Username",type:"text",onChange:this.onChangeField})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"email",placeholder:"Email",type:"text",onChange:this.onChangeField})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"password",placeholder:"Password",type:"password",onChange:this.onChangeField})),r.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",onClick:this.sendData},"Sign up")))))))}}]),t}(n.Component))),_=(a(46),function(e){return e.token?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"baner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"logo-font"},"reddit"),r.a.createElement("p",null,"A place to share your ",r.a.createElement("i",null,"React")," knowledge.")))}),L=(a(47),function(e){var t=e.left,a=e.right;return r.a.createElement("div",{className:"container mb2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},t),r.a.createElement("div",{className:"col-md-3"},a)))}),T=(a(48),function(e){var t=e.tag,a=e.typeFeed,n=e.onClickHandler,c="nav-link",o="nav-link",l="nav-link",i="nav-item";return"yourFeed"===a&&(l="nav-link active",i="nav-item hidden"),"globalFeed"===a&&(o="nav-link active",i="nav-item hidden"),"tagFeed"===a&&(c="nav-link active",i="nav-item"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"feed-toggle"},r.a.createElement("ul",{className:"nav nav-pills outline-active"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:l,onClick:function(){return n("yourFeed")}},"Your Feed")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:o,onClick:function(){return n("globalFeed")}},"Global Feed")),r.a.createElement("li",{className:i},r.a.createElement("button",{className:c},"#"+t)))))}),U=function(){return r.a.createElement("div",{className:"row justify-content-center"},"Error")},H=function(e){var t,a,n,r,c;return C.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.limit,a=e.offset,n=e.token,r="/articles?&limit=".concat(t,"&offset=").concat(a),o.next=4,C.a.awrap(S(r,n));case 4:return c=o.sent,o.abrupt("return",{articles:c.articles.map(X),articlesCount:c.articlesCount});case 6:case"end":return o.stop()}}))},W=function(e){var t,a,n,r,c;return C.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.limit,a=e.offset,n=e.token,r="/articles/feed?limit=".concat(t,"&offset=").concat(a),o.next=4,C.a.awrap(S(r,n));case 4:return c=o.sent,o.abrupt("return",{articles:c.articles.map(X),articlesCount:c.articlesCount});case 6:case"end":return o.stop()}}))},G=function(e){var t,a,n,r,c,o;return C.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.limit,a=e.offset,n=e.tag,r=e.token,c="/articles?tag=".concat(n,"&limit=").concat(t,"&offset=").concat(a),l.next=4,C.a.awrap(S(c,r));case 4:return o=l.sent,l.abrupt("return",{articles:o.articles.map(X),articlesCount:o.articlesCount});case 6:case"end":return l.stop()}}))},z=function(e){var t,a,n,r,c,o;return C.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.author,a=e.limit,n=e.offset,r=e.token,c="/articles?favorited=".concat(t,"&limit=").concat(a,"&offset=").concat(n),l.next=4,C.a.awrap(S(c,r));case 4:return o=l.sent,l.abrupt("return",{articles:o.articles.map(X),articlesCount:o.articlesCount});case 6:case"end":return l.stop()}}))},J=function(e){var t,a,n,r,c,o;return C.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.author,a=e.limit,n=e.offset,r=e.token,c="/articles?author=".concat(t,"&limit=").concat(a,"&offset=").concat(n),l.next=4,C.a.awrap(S(c,r));case 4:return o=l.sent,l.abrupt("return",{articles:o.articles.map(X),articlesCount:o.articlesCount});case 6:case"end":return l.stop()}}))},R=function(e){var t;return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(S("/articles/".concat(e)));case 2:return t=a.sent,a.abrupt("return",X(t.article));case 4:case"end":return a.stop()}}))},Y=function(e,t){return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(j("/articles/",t,e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},q=function(e,t,a){return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.a.awrap(O("/articles/".concat(a),t,e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},B=function(e,t){return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(F("/articles/".concat(e),t));case 2:case"end":return a.stop()}}))},K=function(){var e;return C.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.awrap(S("/tags"));case 2:return e=t.sent,t.abrupt("return",e.tags);case 4:case"end":return t.stop()}}))},Q=function(e,t){return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(j("/articles/".concat(e,"/favorite"),t));case 2:case"end":return a.stop()}}))},V=function(e,t){return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(F("/articles/".concat(e,"/favorite"),t));case 2:case"end":return a.stop()}}))},X=function(e){return{slug:e.slug,title:e.title,body:e.body,description:e.description,author:e.author.username,image:e.author.image,updatedAt:e.updatedAt,favorited:e.favorited,favoritesCount:e.favoritesCount,tagList:e.tagList}},Z=(a(49),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={popularTags:[],loading:!0,error:!1},a.loadTags=function(){K().then((function(e){a._isMounted&&a.setState({popularTags:e,loading:!1})})).catch((function(e){a._isMounted&&a.setState({error:!0})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadTags()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.popularTags,a=e.loading,n=e.error,c=this.props.onClickHandler,o=r.a.createElement("div",null,"Loading tags..."),l=a&&!n?o:null,i=n?r.a.createElement(U,null):null,s=t.map((function(e){return r.a.createElement("button",{key:e,className:"tag-default tag-pill",onClick:function(){return c("tagFeed",e)}},e)}));return r.a.createElement("div",{className:"sidebar"},r.a.createElement("p",null,"Popular tags"),r.a.createElement("div",{className:"tag-list"},s,l,i))}}]),t}(n.Component)),$=(a(50),v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={likeCount:null,favorited:null,unLoggedIn:!1},a.postLike=function(e,t){Q(e,t).then((function(){a.setState((function(e){return{likeCount:e.likeCount+1,favorited:!0}}))})).catch((function(e){a.setState({unLoggedIn:!0})}))},a.deleteLike=function(e,t){V(e,t).then((function(){a.setState((function(e){return{likeCount:e.likeCount-1,favorited:!1}}))})).catch((function(e){a.setState({unLoggedIn:!0})}))},a.likeElement=function(e,t){a.state.favorited?a.deleteLike(e,t):a.postLike(e,t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.favoritesCount,a=e.favorited;this.setState({likeCount:t,favorited:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.slug,n=t.page,c=this.props.authInfo.token,o=this.state,l=o.favorited,i=o.likeCount;if(o.unLoggedIn)return r.a.createElement(N.a,{to:"/login"});var s=n?"Favourite article (".concat(i,")"):i,u=l?"active":"";return r.a.createElement("button",{className:"btn btn-sm btn-outline-primary ".concat(u),onClick:function(){return e.likeElement(a,c)}},r.a.createElement(d.a,{icon:p.d})," ",s)}}]),t}(n.Component))),ee=(a(51),function(e){var t=e.articles,a=t.tagList.map((function(e,t){return r.a.createElement("li",{key:t,className:"tag-default tag-pill tag-outline"},e)}));return r.a.createElement("div",{className:"article-preview"},r.a.createElement("div",null,r.a.createElement("div",{className:"article-meta"},r.a.createElement(E.b,{to:"/profile/".concat(t.author)},r.a.createElement("img",{src:t.image,alt:""})),r.a.createElement("div",{className:"info"},r.a.createElement(E.b,{to:"/profile/".concat(t.author),className:"author"},t.author),r.a.createElement("span",{className:"date"},t.updatedAt)),r.a.createElement("div",{className:"pull-xs-right"},r.a.createElement($,{className:"btn btn-sm btn-outline-primary",favoritesCount:t.favoritesCount,favorited:t.favorited,slug:t.slug})))),r.a.createElement(E.b,{to:"/article/".concat(t.slug),className:"preview-link"},r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.body),r.a.createElement("div",null,"Read more..."),r.a.createElement("ul",{className:"tag-list"},a)))}),te=(a(52),function(){return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"loadingio-spinner-spinner-oljnjraid5a"},r.a.createElement("div",{className:"ldio-lh59ru0ckoq col-12"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))}),ae=(a(53),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={indexPagination:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onPaginationClick,a=e.articlesCount,n=e.limit,c=e.indexPagination,o=Math.ceil(a/n),l=new Array(o).fill("").map((function(e,a){var n="page-item";return a+1===c&&(n+=" active"),r.a.createElement("li",{key:a+1,className:n},r.a.createElement("input",{type:"button",className:"page-link",onClick:function(){return t(a)},value:a+1}))}));return r.a.createElement("nav",{className:"container"},r.a.createElement("ul",{className:"pagination"},l))}}]),t}(n.Component)),ne=function(e){var t=e.articles,a=e.loading,n=e.articlesCount,c=e.error,o=e.limit,l=e.onPaginationClick,i=e.indexPagination;return c?r.a.createElement(U,null):a?r.a.createElement(te,null):r.a.createElement("div",null,0===t.length?r.a.createElement("div",null,"Empty..."):r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(ee,{key:e.slug,articles:e})})),r.a.createElement(ae,{articlesCount:n,limit:o,indexPagination:i,onPaginationClick:l})))},re=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={articles:[],articlesCount:null,indexPagination:1,limit:10,tag:null,loading:!0,error:!1,typeFeed:"globalFeed"},a.loadArticles=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n={limit:a.state.limit,offset:t,token:a.props.authInfo.token};"globalFeed"===a.state.typeFeed?e=H:"yourFeed"===a.state.typeFeed?e=W:"tagFeed"===a.state.typeFeed&&(e=G,n.tag=a.state.tag),e(n).then((function(e){a._isMounted&&a.setState({articles:e.articles,articlesCount:e.articlesCount,loading:!1})})).catch((function(e){a._isMounted&&a.setState({error:!0})}))},a.clickHandler=function(e,t){a.setState({tag:t,typeFeed:e,loading:!0,error:!1,indexPagination:1,offset:0})},a.PaginationClick=function(e){e+=1;var t=a.state.limit,n=e*t-t;a.setState({indexPagination:e,loading:!0}),a.loadArticles(n)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadArticles()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(e,t){this.state.typeFeed,this.state.typeFeed!==t.typeFeed&&this.loadArticles(),"tagFeed"===this.state.typeFeed&&this.state.tag!==t.tag&&this.loadArticles()}},{key:"render",value:function(){var e=this.state,t=e.articles,a=e.articlesCount,n=e.limit,c=e.tag,o=e.indexPagination,l=e.typeFeed,i=e.loading,s=e.error,u=this.props.authInfo.token;if("yourFeed"===l&&!u)return r.a.createElement(N.a,{to:"/login"});var m=r.a.createElement("div",null,r.a.createElement(T,{tag:c,typeFeed:l,onClickHandler:this.clickHandler,token:u}),r.a.createElement(ne,{articles:t,loading:i,error:s,limit:n,articlesCount:a,onPaginationClick:this.PaginationClick,indexPagination:o}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{token:u}),r.a.createElement(L,{left:m,right:r.a.createElement(Z,{onClickHandler:this.clickHandler})}))}}]),t}(n.Component)),ce=function(e,t){var a;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.a.awrap(S("/profiles/".concat(e),t));case 2:return a=n.sent,n.abrupt("return",a.profile);case 4:case"end":return n.stop()}}))},oe=function(e,t){return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(O("/user",t,e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},le=function(e,t){return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(j("/profiles/".concat(e,"/follow"),t));case 2:case"end":return a.stop()}}))},ie=function(e,t){return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(F("/profiles/".concat(e,"/follow"),t));case 2:case"end":return a.stop()}}))},se=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={unLoggedIn:!1,following:null},a.postFollow=function(e,t){le(e,t).then((function(){a.setState({following:!0})})).catch((function(e){a.setState({unLoggedIn:!0})}))},a.deleteFollow=function(e,t){ie(e,t).then((function(){a.setState({following:!1})})).catch((function(e){a.setState({unLoggedIn:!0})}))},a.follow=function(e,t){a.state.following?a.deleteFollow(e,t):a.postFollow(e,t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({following:this.props.following})}},{key:"render",value:function(){var e=this,t=this.props.author,a=this.props.authInfo.token,n=this.state,c=n.unLoggedIn,o=n.following;return c?r.a.createElement(N.a,{to:"/login"}):r.a.createElement("button",{className:"btn btn-sm action-btn btn-outline-secondary",onClick:function(){return e.follow(t,a)}},r.a.createElement(d.a,{icon:p.e})," ",o?"Unfollow":"Follow"," ",t)}}]),t}(n.Component)),ue=(a(54),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={article:{},articleDeleted:!1,errorPage:!1,loadingPage:!0,profile:{}},a.loadArticle=function(){var e=a.props.match.params.slug,t=a.props.authInfo.token;e&&R(e).then((function(e){ce(e.author,t).then((function(t){a._isMounted&&a.setState({profile:t,article:e,loadingPage:!1})}))})).catch((function(e){a._isMounted&&a.setState({errorPage:!0})}))},a.deleteArticle=function(e,t){B(e,t).then((function(){a.setState({articleDeleted:!0})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadArticle()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(e){this.props.match.params.slug!==e.match.params.slug&&this.loadArticle()}},{key:"render",value:function(){var e=this,t=this.state,a=t.article,n=t.loadingPage,c=t.errorPage,o=t.profile,l=t.articleDeleted,i=this.props.match.params.slug,s=this.props.authInfo,u=s.token,m=s.username;if(l)return r.a.createElement(N.a,{to:"/profile/".concat(m)});var f=a.tagList&&a.tagList.map((function(e,t){return r.a.createElement("li",{key:t,className:"tag-default tag-pill tag-outline"},e)})),h=r.a.createElement("span",null,r.a.createElement(E.b,{to:"/editor/".concat(i)},r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary"},r.a.createElement(d.a,{icon:p.b})," Edit Article")),r.a.createElement("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return e.deleteArticle(i,u)}},r.a.createElement(d.a,{icon:p.f}),"Delete Article")),g=r.a.createElement("span",{className:"article-buttons"},r.a.createElement(se,{author:o.username,following:o.following}),r.a.createElement($,{className:"btn btn-sm btn-outline-primary",favoritesCount:a.favoritesCount,favorited:a.favorited,slug:a.slug,page:!0})),v=a.author===m?h:g;return c?r.a.createElement(U,null):n?r.a.createElement(te,null):r.a.createElement("div",{className:"article-page"},r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,a.title),r.a.createElement("div",null,r.a.createElement("div",{className:"article-meta"},r.a.createElement(E.b,{to:"/profile/".concat(a.author)},r.a.createElement("img",{src:a.image,alt:""})),r.a.createElement("div",{className:"info"},r.a.createElement(E.b,{to:"/profile/".concat(a.author),className:"author"},a.author),r.a.createElement("span",{className:"date"},a.updatedAt)),v)))),r.a.createElement("div",{className:"container article-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",null,r.a.createElement("p",null,a.body)),r.a.createElement("ul",{className:"tag-list"},f)))),r.a.createElement("hr",null))}}]),t}(n.Component)),me=v(Object(N.g)(ue)),de=(a(55),function(e){var t=e.typeFeed,a=e.onClickHandler,n="nav-link",c="nav-link";return"myPosts"===t&&(n="nav-link active"),"favouritedPosts"===t&&(c="nav-link active"),r.a.createElement("div",{className:"profile-feed"},r.a.createElement("ul",{className:"nav nav-pills outline-active"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:n,onClick:function(){return a("myPosts")}},"My Posts")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:c,onClick:function(){return a("favouritedPosts")}},"Favorited Posts"))))}),pe=(a(56),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={articles:[],articlesCount:null,indexPagination:1,limit:10,authorData:[],loadingPage:!0,errorPage:!1,loadingArticles:!0,errorArticles:!1,typeFeed:"myPosts"},a.loadArticles=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n={author:a.props.match.params.author,limit:a.state.limit,offset:t,token:a.props.authInfo.token};"myPosts"===a.state.typeFeed?e=J:"favouritedPosts"===a.state.typeFeed&&(e=z),e(n).then((function(e){a._isMounted&&a.setState({articles:e.articles,articlesCount:e.articlesCount,loadingArticles:!1})})).catch((function(e){a._isMounted&&a.setState({errorArticles:!0})}))},a.clickHandler=function(e){a.setState({typeFeed:e,loadingArticles:!0,errorArticles:!1,indexPagination:1})},a.PaginationClick=function(e){e+=1;var t=a.state.limit,n=e*t-t;a.setState({indexPagination:e,loadingArticles:!0}),a.loadArticles(n)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadPage(),this.loadArticles()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.author!==e.match.params.author&&this.loadPage(),this.state.typeFeed!==t.typeFeed&&this.loadArticles()}},{key:"loadPage",value:function(){var e=this,t=this.props.match.params.author,a=this.props.authInfo.token;t&&ce(t,a).then((function(t){e._isMounted&&e.setState({authorData:t,loadingPage:!1})})).catch((function(t){e._isMounted&&e.setState({errorPage:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.articles,a=e.articlesCount,n=e.limit,c=e.indexPagination,o=e.typeFeed,l=e.loadingArticles,i=e.errorArticles,s=e.loadingPage,u=e.errorPage,m=e.authorData,f=this.props.match.params.author,h=this.props.authInfo,g=h.token,v=h.username,b=r.a.createElement(E.b,{to:"/settings",className:"ion-gear-a"},r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary action-btn"},r.a.createElement(d.a,{icon:p.b})," Edit Profile Settings")),y=r.a.createElement(se,{author:m.username,following:m.following,token:g}),k=f!==v||s||u?y:b;return u?r.a.createElement(U,null):s?r.a.createElement(te,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-page"},r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},r.a.createElement("img",{className:"user-img",src:m.image,alt:""}),r.a.createElement("h4",null,m.username),r.a.createElement("p",null,m.bio),r.a.createElement("div",null,k)))))),r.a.createElement("div",{className:"container"},r.a.createElement(de,{typeFeed:o,onClickHandler:this.clickHandler}),r.a.createElement(ne,{articles:t,loading:l,error:i,limit:n,articlesCount:a,onPaginationClick:this.PaginationClick,indexPagination:c,token:g})))}}]),t}(n.Component)),fe=v(Object(N.g)(pe)),he=(a(57),v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={email:"",password:null,username:"",bio:null,image:null,profileStatus:null,profileData:{}},a.onChangeField=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.changeData=function(){var e={email:a.state.email,password:a.state.password,username:a.state.username,bio:a.state.bio,image:a.state.image},t=a.props.authInfo.token;oe({user:e},t).then((function(e){a.props.authInfo.onSetAuthInfo(e.data.user),a._isMounted&&a.setState({profileStatus:e.status,profileData:e.data})})).catch((function(e){a._isMounted&&a.setState({profileStatus:e.status,profileData:e.data})}))},a.logout=function(){a.props.authInfo.onSetAuthInfo({})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this.props.authInfo,t=e.email,a=e.username;this.setState({email:t,username:a})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.profileData,a=e.profileStatus,n=e.email,c=e.username;return this.props.authInfo.token?200===a?r.a.createElement(N.a,{to:"/profile/".concat(c)}):r.a.createElement("div",{className:"settings-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Your Settings"),r.a.createElement("div",null,r.a.createElement(D,{data:t,status:a})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"image",placeholder:"URL of profile picture",type:"text",onChange:this.onChangeField})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"username",placeholder:"Username",type:"text",onChange:this.onChangeField,value:c})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("textarea",{className:"form-control form-control-lg",name:"bio",placeholder:"Short bio about you",rows:"8",onChange:this.onChangeField})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"email",placeholder:"Email",type:"email",onChange:this.onChangeField,value:n})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"password",placeholder:"New Password",type:"password",onChange:this.onChangeField})),r.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",onClick:this.changeData},"Update Settings"))),r.a.createElement("hr",null),r.a.createElement(E.b,{to:"/",className:"btn btn-outline-danger",onClick:this.logout},"Or click here to logout."))))):r.a.createElement(N.a,{to:"/login"})}}]),t}(n.Component))),ge=(a(58),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",desc:"",body:"",tags:[],errorGetArticle:!1,articleStatus:null,articleData:{}},a.getArticleData=function(e){R(e).then((function(e){a.setState({title:e.title,desc:e.description,body:e.body,tags:e.tagList})})).catch((function(e){a.setState({errorGetArticle:!0})}))},a.onChangeField=function(e){"tags"===e.target.name?a.setState(Object(k.a)({},e.target.name,e.target.value.split(" "))):a.setState(Object(k.a)({},e.target.name,e.target.value))},a.sendData=function(){var e={title:a.state.title,description:a.state.desc,body:a.state.body,tagList:a.state.tags},t=Y;a.props.match.params.slug&&(t=q);var n=a.props.match.params.slug;t({article:e},a.props.authInfo.token,n).then((function(e){a.setState({articleStatus:e.status,articleData:e.data})})).catch((function(e){a.setState({articleStatus:e.status,articleData:e.data})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.slug&&this.props.authInfo.token&&this.getArticleData(this.props.match.params.slug)}},{key:"render",value:function(){var e=this.state,t=e.articleData,a=e.articleStatus,n=e.title,c=e.desc,o=e.body,l=e.tags;return e.errorGetArticle?r.a.createElement("div",{className:" row justify-content-center"},"Article not Found"):this.props.authInfo.token?200===a?r.a.createElement(N.a,{to:"/article/".concat(t.article.slug)}):r.a.createElement("div",{className:"new-article"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},r.a.createElement("div",null,r.a.createElement(D,{data:t,status:a})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",name:"title",placeholder:"Article Title",type:"text",onChange:this.onChangeField,value:n})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"desc",placeholder:"What's this article about?",type:"text",onChange:this.onChangeField,value:c})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",name:"body",placeholder:"Write your article (in markdown)",rows:"8",onChange:this.onChangeField,value:o})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"tags",placeholder:"Enter tags",type:"text",onChange:this.onChangeField,value:l}),r.a.createElement("div",{className:"tag-list"})),r.a.createElement("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"button",onClick:this.sendData},"Publish Article"))))))):r.a.createElement(N.a,{to:"/login"})}}]),t}(n.Component)),ve=v(Object(N.g)(ge)),Ee=(a(59),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={token:localStorage.getItem("token"),email:localStorage.getItem("email"),username:localStorage.getItem("username")},a.setAuthInfo=function(e){var t=e.token,n=e.email,r=e.username;void 0===t?(localStorage.removeItem("token"),localStorage.removeItem("email"),localStorage.removeItem("username"),a.setState({token:"",email:"",username:""})):(localStorage.setItem("token",t),localStorage.setItem("email",n),localStorage.setItem("username",r),a.setState({token:t,email:n,username:r}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t={token:e.token,username:e.username,email:e.email,onSetAuthInfo:this.setAuthInfo};return r.a.createElement(h,{value:t},r.a.createElement("div",{className:"todo-app"},r.a.createElement(E.a,null,r.a.createElement(b,null),r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/",component:re,exact:!0}),r.a.createElement(N.b,{path:"/login",component:M,exact:!0}),r.a.createElement(N.b,{path:"/register",component:I,exact:!0}),r.a.createElement(N.b,{path:"/editor",component:ve,exact:!0}),r.a.createElement(N.b,{path:"/editor/:slug",component:ve,exact:!0}),r.a.createElement(N.b,{path:"/settings",component:he,exact:!0}),r.a.createElement(N.b,{path:"/article/:slug",component:me,exact:!0}),r.a.createElement(N.b,{path:"/profile/:author",component:fe,exact:!0}),r.a.createElement(N.b,{render:function(){return r.a.createElement("h1",null,"Page not found!")}})),r.a.createElement(y,null))))}}]),t}(n.Component));o.a.render(r.a.createElement(Ee,null),document.getElementById("root"))}]),[[28,1,2]]]);
//# sourceMappingURL=main.4b20f7e8.chunk.js.map